<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        ul{
            list-style: none;
        }   
        ul li{
            background-color: red;
            display: flex;
        }
        ul li .img{
            width: 50px;
            height: 60px;
        }
        ul li .img img{
            width: 100%;
            height: 100%;
        }
        select{
            width: 100%;
        }
    </style>
</head>
<body>
   
    <ul>
        <label for="ok">VVV</label>
        <li>
            <div class="img"><img src="Public/img/book1.jpg" alt="" srcset=""></div>
            <div class="text"><p>A</p></div>
        </li>
        <li>
            <div class="img"><img src="Public/img/book2.jpg" alt="" srcset=""></div>
            <div class="text"><p>B</p></div>
        </li>
        <li>
            <div class="img"><img src="Public/img/book3.jpg" alt="" srcset=""></div>
            <div class="text"><p>C</p></div>
        </li>
        <li>
            <div class="img"><img src="Public/img/book4.jpg" alt="" srcset=""></div>
            <div class="text"><p>D</p></div>
        </li>
    </ul>
    
    <form action="test.html">
        <input id="ok" type="submit" onclick="Oke(this)" value="OKe">
    </form>
    <input type="number" onchange="change()">

    <div class="money">
        <p>553000500</p>
    </div>

    <input type="number" value="0" max="5" name="" onkeyup="quanIM()" id="quant">
    <div class="res">

    </div>

    <select name="" id="province">
        
    </select>
    <select name="" id="quan">

    </select>
    <select name="" id="xa">

    </select>
</body>
<script>
//    var _0xbf19=["\x23\x70\x72\x6F\x76\x69\x6E\x63\x65","\x71\x75\x65\x72\x79\x53\x65\x6C\x65\x63\x74\x6F\x72","\x23\x71\x75\x61\x6E","\x23\x78\x61","\x68\x74\x74\x70\x73\x3A\x2F\x2F\x70\x72\x6F\x76\x69\x6E\x63\x65\x73\x2E\x6F\x70\x65\x6E\x2D\x61\x70\x69\x2E\x76\x6E\x2F\x61\x70\x69\x2F\x3F\x64\x65\x70\x74\x68\x3D\x33","\x74\x68\x65\x6E","\x6A\x73\x6F\x6E","\x6C\x6F\x67","\x3C\x6F\x70\x74\x69\x6F\x6E\x20\x76\x61\x6C\x75\x65\x3D\x22","\x63\x6F\x64\x65","\x22\x3E","\x6E\x61\x6D\x65","\x3C\x2F\x6F\x70\x74\x69\x6F\x6E\x3E","\x6D\x61\x70","\x69\x6E\x6E\x65\x72\x48\x54\x4D\x4C","\x76\x61\x6C\x75\x65","\x6F\x6E\x63\x68\x61\x6E\x67\x65","\x64\x69\x73\x74\x72\x69\x63\x74\x73","\x77\x61\x72\x64\x73","\x66\x6F\x72\x45\x61\x63\x68"];let province=document[_0xbf19[1]](_0xbf19[0]);let quan=document[_0xbf19[1]](_0xbf19[2]);let xa=document[_0xbf19[1]](_0xbf19[3]);let apiHost=_0xbf19[4];function getProvince(_0x7df3x6){fetch(apiHost)[_0xbf19[5]](function(_0x7df3x7){return _0x7df3x7[_0xbf19[6]]()})[_0xbf19[5]](_0x7df3x6)}function startProvi(){getProvince(function(_0x7df3x9){console[_0xbf19[7]](_0x7df3x9);renderProvi(_0x7df3x9)})}function renderProvi(_0x7df3x9){let _0x7df3xb=_0x7df3x9[_0xbf19[13]]((_0x7df3xc)=>{return `${_0xbf19[8]}${_0x7df3xc[_0xbf19[9]]}${_0xbf19[10]}${_0x7df3xc[_0xbf19[11]]}${_0xbf19[12]}`});province[_0xbf19[14]]= _0x7df3xb;findProvi(province[_0xbf19[15]],_0x7df3x9);province[_0xbf19[16]]= ()=>{findProvi(province[_0xbf19[15]],_0x7df3x9)};quan[_0xbf19[16]]= ()=>{lastfindProvi(quan[_0xbf19[15]],findProvi(province[_0xbf19[15]],_0x7df3x9))}}function findProvi(_0x7df3xe,_0x7df3x9){let _0x7df3xf=[];let _0x7df3x10=[];_0x7df3x9[_0xbf19[19]]((_0x7df3x11)=>{if(_0x7df3x11[_0xbf19[9]]== _0x7df3xe){_0x7df3xf= _0x7df3x11[_0xbf19[17]];_0x7df3xf[_0xbf19[19]]((_0x7df3x12)=>{_0x7df3x10= _0x7df3x12[_0xbf19[18]]})}});let _0x7df3x13=_0x7df3xf[_0xbf19[13]]((_0x7df3xc)=>{return `${_0xbf19[8]}${_0x7df3xc[_0xbf19[9]]}${_0xbf19[10]}${_0x7df3xc[_0xbf19[11]]}${_0xbf19[12]}`});let _0x7df3x14=_0x7df3x10[_0xbf19[13]]((_0x7df3xc)=>{return `${_0xbf19[8]}${_0x7df3xc[_0xbf19[9]]}${_0xbf19[10]}${_0x7df3xc[_0xbf19[11]]}${_0xbf19[12]}`});quan[_0xbf19[14]]= _0x7df3x13;xa[_0xbf19[14]]= _0x7df3x14;return _0x7df3xf}function lastfindProvi(_0x7df3xe,_0x7df3x9){let _0x7df3xf=[];_0x7df3x9[_0xbf19[19]]((_0x7df3x11)=>{if(_0x7df3x11[_0xbf19[9]]== _0x7df3xe){_0x7df3xf= _0x7df3x11[_0xbf19[18]]}});let _0x7df3x13=_0x7df3xf[_0xbf19[13]]((_0x7df3xc)=>{return `${_0xbf19[8]}${_0x7df3xc[_0xbf19[9]]}${_0xbf19[10]}${_0x7df3xc[_0xbf19[11]]}${_0xbf19[12]}`});xa[_0xbf19[14]]= _0x7df3x13}startProvi()
   let province = document.querySelector("#province");
let quan = document.querySelector("#quan");
let xa = document.querySelector("#xa");
let apiHost = "https://provinces.open-api.vn/api/?depth=3";
function getProvince(callback){
    fetch(apiHost)
    .then(function(respone){
        return respone.json();
    })
    .then(callback)
}
function startProvi(){
    getProvince(function(data){
        console.log(data);
        renderProvi(data);
    });
}
function renderProvi(data){
    let outData = data.map((val)=>{
        return `<option class="choose_prov" value="${val.code}">${val.name}</option>`;
    })
    province.innerHTML = outData;
    findProvi(province.value, data);
    province.onchange = () => {
        findProvi(province.value, data);
    }
    quan.onchange = () => {
        // let ChoProv = document.querySelectorAll(".choose_quan");
        lastfindProvi(quan.value, findProvi(province.value, data));
    }
    
}
function findProvi(id,data){
    let Arrdata = [];
    let ArrdataSec = [];
    data.forEach(element => {
        if(element.code == id){
            Arrdata = element.districts;
            Arrdata.forEach(ele => {
                ArrdataSec = ele.wards;
            })
        }
    });
    let dataOut = Arrdata.map((val)=>{
        return `<option class="choose_quan" value="${val.code}">${val.name}</option>`;
    })
    let dataOutSec = ArrdataSec.map(val=>{
        return `<option class="choose_xa" value="${val.code}">${val.name}</option>`;
    })
    quan.innerHTML = dataOut;
    xa.innerHTML = dataOutSec;
    return Arrdata;
}

function lastfindProvi(id, data){
    let Arrdata = [];
    data.forEach(element => {
        if(element.code == id){
            Arrdata = element.wards;
        }
    });
    let dataOut = Arrdata.map((val)=>{
        return `<option value="${val.code}">${val.name}</option>`;
    })
    xa.innerHTML = dataOut;
}


startProvi();
    // let data = getAPI();
    // console.log(data);











    // let select = document.querySelector("#cate");
    // select.onchange = () =>{
    //     console.log(select.value);
    // }
    // let number = document.querySelector(".money p").innerHTML;
    // let formatter = new Intl.NumberFormat('de-DE', {
    // style: 'currency',
    // currency: 'VND'
    // });
    // console.log(formatter.format(number));


    // let quant = document.querySelector("#quant");
    // let res = document.querySelector(".res");
    // function quanIM(){
    //     if(quant.value == "" || quant.value == 0){
    //         res.innerHTML = "";
    //     }
    //     else if(quant.value > 10){
    //         res.innerHTML = "";
    //     } 
    //     else{
    //         for(let i = 0; i < quant.value; i++){
    //             res.innerHTML += "OKE";
    //         }
    //     }
    // }
    // function Oke(e){
    //     e.preventDefault();
    //     console.log(e);
    // }
    // function change(){
    //     console.log("VVVVV");
    // }
    // let money = document.querySelector(".money p");
    // let valmoney = money.innerHTML;
    // function moneyForm(valmoney){
    //     let count = 0;
    //     let valtoArr = valmoney.split("");
    //     let valArrRer = valtoArr.reverse();
    //     for(let i = 0; i < valArrRer.length; i++){
    //         if(i > ){
    //             count++;
    //         }
    //         if(count == 3){
    //             valArrRer[i+1] += ",";
    //             count = 1;  
    //         }
    //     }
    //     let reVal = valArrRer.reverse();
    //     let beStr = reVal.join("");
    //     money.innerHTML = beStr;
    // }
    // moneyForm(valmoney);
</script>
</html>